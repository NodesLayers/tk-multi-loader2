



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Shotgun Loader API reference &mdash; tk-multi-loader2 v1.22.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          
    <a href='http://developer.shotgunsoftware.com'>
    
        <img style='width: 191px;
                height: 60px;
                margin: 2px;
                border-radius: 0px;
                padding: 0px;'
            src='_static/logo@2x.png'/>
    
    </a>
    

          
            <a href="#" class="icon icon-home"> tk-multi-loader2
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Shotgun Loader API reference</a><ul>
<li><a class="reference internal" href="#loader-api">Loader API</a><ul>
<li><a class="reference internal" href="#loadermanager">LoaderManager</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
            
          

    <a href='genindex.html'>Alphabetic Index</a>

    <div style='margin-top: 50px;
                margin-left: 10px;
                margin-right: 10px;
                padding: 10px;
                color: #b3b3b3;
                font-size: 70%;
                border-radius: 3px;
                background-color: #444;
                line-height: 18px;
                '>
    <style>
        a.custom_post_menu { display: inline;
                             padding: 0px;
                             text-decoration: underline; }
    </style>

    <b>tk-multi-loader2</b> v1.22.0.<br>
    
        This documentation is part of the Shotgun Pipeline Toolkit.
    
    For more information, please visit
    <a class=custom_post_menu href='https://support.shotgunsoftware.com/home'>Shotgun Support</a>.
    The code associated with this documentation can be found
    <a class=custom_post_menu href='https://github.com/shotgunsoftware/tk-multi-loader2'>here</a>.

    </div>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">tk-multi-loader2</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>Shotgun Loader API reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="shotgun-loader-api-reference">
<h1>Shotgun Loader API reference<a class="headerlink" href="#shotgun-loader-api-reference" title="Permalink to this headline">¶</a></h1>
<section id="loader-api">
<h2>Loader API<a class="headerlink" href="#loader-api" title="Permalink to this headline">¶</a></h2>
<p>The loader API gives developers access the underlying data structures and
methods used by the loader UI to manage actions. They can use this interface to build more
advanced custom load workflows.</p>
<p>The main interface of the API is the <a class="reference internal" href="#loader-api-manager"><span class="std std-ref">LoaderManager</span></a> class which exposes the methods that drive the Loader UI
for the actions management.</p>
<p>The code below shows how to execute a suite of actions using this API:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># need to have an engine running in a context where the loader has been</span>
<span class="c1"># configured.</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">current_engine</span><span class="p">()</span>

<span class="c1"># get the loader app instance from the engine&#39;s list of configured apps</span>
<span class="n">loader_app</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">apps</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tk-multi-loader2&quot;</span><span class="p">)</span>

<span class="c1"># ensure we have the loader instance.</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">loader_app</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;The loader is not configured for this context.&quot;</span><span class="p">)</span>

<span class="c1"># create a new loader manager instance</span>
<span class="n">manager</span> <span class="o">=</span> <span class="n">loader_app</span><span class="o">.</span><span class="n">create_loader_manager</span><span class="p">()</span>

<span class="c1"># use case 1: retrieve the actions for a single publish and execute a specific action</span>
<span class="n">loader_actions</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="n">get_actions_for_publish</span><span class="p">(</span><span class="n">publish</span><span class="p">,</span> <span class="n">manager</span><span class="o">.</span><span class="n">UI_AREA_MAIN</span><span class="p">)</span>

<span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="n">loader_actions</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">action</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;my_action&quot;</span><span class="p">:</span>
        <span class="n">manager</span><span class="o">.</span><span class="n">execute_action</span><span class="p">(</span><span class="n">publish</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span>

<span class="c1"># use case 2: retrieve the common actions between many publishes and execute one of these action for all the publishes</span>
<span class="n">loader_actions</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="n">get_actions_for_publishes</span><span class="p">(</span><span class="n">publishes</span><span class="p">,</span> <span class="n">manager</span><span class="o">.</span><span class="n">UI_AREA_MAIN</span><span class="p">)</span>

<span class="n">reference_actions</span> <span class="o">=</span> <span class="n">loader_actions</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;my_action&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">reference_actions</span><span class="p">:</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">execute_multiple_actions</span><span class="p">(</span><span class="n">reference_actions</span><span class="p">)</span>
</pre></div>
</div>
<p>See the documentation for each of these classes below for more detail on how
to use them.</p>
<section id="loadermanager">
<span id="loader-api-manager"></span><h3>LoaderManager<a class="headerlink" href="#loadermanager" title="Permalink to this headline">¶</a></h3>
<p>This class gives developers direct access to the same methods and data
structures used by the Loader UI to manage actions. You can create an instance of this class
directly via the configured loader app like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># need to have an engine running in a context where the publisher has been</span>
<span class="c1"># configured.</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">current_engine</span><span class="p">()</span>

<span class="c1"># get the loader app instance from the engine&#39;s list of configured apps</span>
<span class="n">loader_app</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">apps</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tk-multi-loader2&quot;</span><span class="p">)</span>

<span class="c1"># ensure we have the loader instance.</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">loader_app</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;The loader is not configured for this context.&quot;</span><span class="p">)</span>

<span class="c1"># create a new loader manager instance</span>
<span class="n">manager</span> <span class="o">=</span> <span class="n">loader_app</span><span class="o">.</span><span class="n">create_loader_manager</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, Autodesk

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-2114792-1', 'auto');
  ga('send', 'pageview');
</script>



</body>
</html>