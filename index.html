



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ShotGrid Loader API reference &mdash; tk-multi-loader2 v1.23.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          
    <a href='http://developer.shotgridsoftware.com'>
    
        <img style='width: 191px;
                height: 60px;
                margin: 2px;
                border-radius: 0px;
                padding: 0px;'
            src='_static/logo@2x.png'/>
    
    </a>
    

          
            <a href="#" class="icon icon-home"> tk-multi-loader2
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">ShotGrid Loader API reference</a><ul>
<li><a class="reference internal" href="#loader-api">Loader API</a><ul>
<li><a class="reference internal" href="#loadermanager">LoaderManager</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
            
          

    <a href='genindex.html'>Alphabetic Index</a>

    <div style='margin-top: 50px;
                margin-left: 10px;
                margin-right: 10px;
                padding: 10px;
                color: #b3b3b3;
                font-size: 70%;
                border-radius: 3px;
                background-color: #444;
                line-height: 18px;
                '>
    <style>
        a.custom_post_menu { display: inline;
                             padding: 0px;
                             text-decoration: underline; }
    </style>

    <b>tk-multi-loader2</b> v1.23.1.<br>
    
        This documentation is part of the ShotGrid Pipeline Toolkit.
    
    For more information, please visit
    <a class=custom_post_menu href='https://developer.shotgridsoftware.com'>The ShotGrid developer portal.</a>.
    The code associated with this documentation can be found
    <a class=custom_post_menu href='https://github.com/shotgunsoftware/tk-multi-loader2'>here</a>.

    </div>
    <style>
        p.privacy_links { margin: 4px 0px;}
    </style>
    <p class="privacy_links"><a data-opt-in-preferences href="javascript:;">Privacy settings</a></p>
    <p class="privacy_links"><a data-wat-linkname="manage-ccpa-settings-footer-link" href="javascript:;">Do not sell my personal information</a></p>
    <p class="privacy_links"><a href="https://www.autodesk.com/company/legal-notices-trademarks/privacy-statement">Privacy/Cookies</a></p>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">tk-multi-loader2</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>ShotGrid Loader API reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="shotgrid-loader-api-reference">
<h1>ShotGrid Loader API reference<a class="headerlink" href="#shotgrid-loader-api-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="loader-api">
<h2>Loader API<a class="headerlink" href="#loader-api" title="Permalink to this headline">¶</a></h2>
<p>The loader API gives developers access the underlying data structures and
methods used by the loader UI to manage actions. They can use this interface to build more
advanced custom load workflows.</p>
<p>The main interface of the API is the <a class="reference internal" href="#loader-api-manager"><span class="std std-ref">LoaderManager</span></a> class which exposes the methods that drive the Loader UI
for the actions management.</p>
<p>The code below shows how to execute a suite of actions using this API:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># need to have an engine running in a context where the loader has been</span>
<span class="c1"># configured.</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">current_engine</span><span class="p">()</span>

<span class="c1"># get the loader app instance from the engine&#39;s list of configured apps</span>
<span class="n">loader_app</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">apps</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tk-multi-loader2&quot;</span><span class="p">)</span>

<span class="c1"># ensure we have the loader instance.</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">loader_app</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;The loader is not configured for this context.&quot;</span><span class="p">)</span>

<span class="c1"># create a new loader manager instance</span>
<span class="n">manager</span> <span class="o">=</span> <span class="n">loader_app</span><span class="o">.</span><span class="n">create_loader_manager</span><span class="p">()</span>

<span class="c1"># use case 1: retrieve the actions for a single publish and execute a specific action</span>
<span class="n">loader_actions</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="n">get_actions_for_publish</span><span class="p">(</span><span class="n">publish</span><span class="p">,</span> <span class="n">manager</span><span class="o">.</span><span class="n">UI_AREA_MAIN</span><span class="p">)</span>

<span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="n">loader_actions</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">action</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;my_action&quot;</span><span class="p">:</span>
        <span class="n">manager</span><span class="o">.</span><span class="n">execute_action</span><span class="p">(</span><span class="n">publish</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span>

<span class="c1"># use case 2: retrieve the common actions between many publishes and execute one of these action for all the publishes</span>
<span class="n">loader_actions</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="n">get_actions_for_publishes</span><span class="p">(</span><span class="n">publishes</span><span class="p">,</span> <span class="n">manager</span><span class="o">.</span><span class="n">UI_AREA_MAIN</span><span class="p">)</span>

<span class="n">reference_actions</span> <span class="o">=</span> <span class="n">loader_actions</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;my_action&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">reference_actions</span><span class="p">:</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">execute_multiple_actions</span><span class="p">(</span><span class="n">reference_actions</span><span class="p">)</span>
</pre></div>
</div>
<p>See the documentation for each of these classes below for more detail on how
to use them.</p>
<div class="section" id="loadermanager">
<span id="loader-api-manager"></span><h3>LoaderManager<a class="headerlink" href="#loadermanager" title="Permalink to this headline">¶</a></h3>
<p>This class gives developers direct access to the same methods and data
structures used by the Loader UI to manage actions. You can create an instance of this class
directly via the configured loader app like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># need to have an engine running in a context where the publisher has been</span>
<span class="c1"># configured.</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">current_engine</span><span class="p">()</span>

<span class="c1"># get the loader app instance from the engine&#39;s list of configured apps</span>
<span class="n">loader_app</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">apps</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tk-multi-loader2&quot;</span><span class="p">)</span>

<span class="c1"># ensure we have the loader instance.</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">loader_app</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;The loader is not configured for this context.&quot;</span><span class="p">)</span>

<span class="c1"># create a new loader manager instance</span>
<span class="n">manager</span> <span class="o">=</span> <span class="n">loader_app</span><span class="o">.</span><span class="n">create_loader_manager</span><span class="p">()</span>
</pre></div>
</div>
<dl class="class">
<dt id="tk_multi_loader.api.LoaderManager">
<em class="property">class </em><code class="descclassname">tk_multi_loader.api.</code><code class="descname">LoaderManager</code><span class="sig-paren">(</span><em>bundle</em>, <em>loader_logger=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tk_multi_loader/api/manager.html#LoaderManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tk_multi_loader.api.LoaderManager" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is used for managing and executing loads.</p>
<p>Initialize the manager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bundle</strong> – The bundle (app, engine or framework) instance for the app
that the calling code is associated with.</li>
<li><strong>loader_logger</strong> – This is a standard python logger to use during
loading. A default logger will be provided if not supplied. This
can be useful when implementing a custom UI, for example, with a
specialized log handler</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="tk_multi_loader.api.LoaderManager.get_actions_for_publish">
<code class="descname">get_actions_for_publish</code><span class="sig-paren">(</span><em>sg_data</em>, <em>ui_area</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tk_multi_loader/api/manager.html#LoaderManager.get_actions_for_publish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tk_multi_loader.api.LoaderManager.get_actions_for_publish" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of actions for a publish.</p>
<p>Shotgun data representing a publish is passed in and forwarded on to hooks
to help them determine which actions may be applicable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sg_data</strong> – Shotgun data dictionary with all the standard publish fields.</li>
<li><strong>ui_area</strong> – <p>Indicates which part of the UI the request is coming from.
Currently one of:</p>
<ul>
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">tk_multi_loader.LoaderManager.UI_AREA_MAIN</span></code></li>
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">tk_multi_loader.LoaderManager.UI_AREA_DETAILS</span></code></li>
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">tk_multi_loader.LoaderManager.UI_AREA_HISTORY</span></code></li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of dictionaries, each with keys name, params, caption and description</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tk_multi_loader.api.LoaderManager.get_actions_for_publishes">
<code class="descname">get_actions_for_publishes</code><span class="sig-paren">(</span><em>sg_data_list</em>, <em>ui_area</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tk_multi_loader/api/manager.html#LoaderManager.get_actions_for_publishes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tk_multi_loader.api.LoaderManager.get_actions_for_publishes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns common actions for a list of publishes.</p>
<p>Shotgun data representing a publish is passed in and forwarded on to hooks
to help them determine which actions may be applicable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sg_data_list</strong> – List of Shotgun data dictionary with all the standard publish fields.</li>
<li><strong>ui_area</strong> – <p>Indicates which part of the UI the request is coming from.
Currently one of:</p>
<ul>
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">tk_multi_loader.LoaderManager.UI_AREA_MAIN</span></code></li>
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">tk_multi_loader.LoaderManager.UI_AREA_DETAILS</span></code></li>
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">tk_multi_loader.LoaderManager.UI_AREA_HISTORY</span></code></li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Dictionary where the keys are the action names and the values contain the list of available actions.
One action will be defined for each publish.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tk_multi_loader.api.LoaderManager.execute_action">
<code class="descname">execute_action</code><span class="sig-paren">(</span><em>sg_data</em>, <em>action</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tk_multi_loader/api/manager.html#LoaderManager.execute_action"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tk_multi_loader.api.LoaderManager.execute_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the given action for the selected publish.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sg_data</strong> – Shotgun data dictionary with all the standard publish fields.</li>
<li><strong>action</strong> – Dictionary containing the action data has defined in the hook.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tk_multi_loader.api.LoaderManager.execute_multiple_actions">
<code class="descname">execute_multiple_actions</code><span class="sig-paren">(</span><em>actions</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tk_multi_loader/api/manager.html#LoaderManager.execute_multiple_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tk_multi_loader.api.LoaderManager.execute_multiple_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute many actions for a list of publishes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actions</strong> – List of dictionaries holding all the actions to execute.
Each entry will have the following values:
name: Name of the action to execute
sg_publish_data: Publish information coming from Shotgun
params: Parameters passed down from the generate_actions hook.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tk_multi_loader.api.LoaderManager.get_actions_for_entity">
<code class="descname">get_actions_for_entity</code><span class="sig-paren">(</span><em>sg_data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tk_multi_loader/api/manager.html#LoaderManager.get_actions_for_entity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tk_multi_loader.api.LoaderManager.get_actions_for_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of actions for an entity type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sg_data</strong> – Shotgun data dictionary representing the entity we want to get actions for.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of dictionaries, each with keys name, params, caption and description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="tk_multi_loader.api.LoaderManager.has_actions">
<code class="descname">has_actions</code><span class="sig-paren">(</span><em>publish_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tk_multi_loader/api/manager.html#LoaderManager.has_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tk_multi_loader.api.LoaderManager.has_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the given publish type has any actions associated with it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>publish_type</strong> – A Shotgun publish type (e.g. ‘Maya Render’)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return::</th><td class="field-body">True if the current actions setup knows how to handle this.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2023, Autodesk

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 

  <script type="text/javascript">
    window.wafCCPAForceShow = true;
    (function(a,b,c,d){
      a='https://tags.tiqcdn.com/utag/autodesk/micro-basic/prod/utag.js';
      b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
      a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
    })();
  </script>


</body>
</html>